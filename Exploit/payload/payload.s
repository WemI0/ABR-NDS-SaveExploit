#define MODE_FB0 0x00020000
#define VRAM_ENABLE 0x80
#define VRAM_A_LCD 0
#define VRAM_A 0x06800000

.global _start
_start:
mov r0, #0x04000000                     
mov r1, #0x3                            

mov r2, #MODE_FB0                       
mov r3, #(VRAM_ENABLE | VRAM_A_LCD)     
mov r4, #0                              

str r1, [r0, #0x304]                   
str r2, [r0]                            
str r3, [r0, #0x240]                   
str r4, [r0, #0x6C]                     

reset:
add r1, #31                             
mov r0, #VRAM_A                        
mov r2, #(256 * 192)                    

writePixel:
strh r1, [r0], #2                       
subs r2, r2, #1                        
bne writePixel                          

b reset